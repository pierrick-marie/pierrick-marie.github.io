var main={bigImgEl:null,numImgs:null,init:function(){$(window).scroll(function(){$(".navbar").offset().top>50?$(".navbar").addClass("top-nav-short"):$(".navbar").removeClass("top-nav-short")}),$("#main-navbar").on("show.bs.collapse",function(){$(".navbar").addClass("top-nav-expanded")}),$("#main-navbar").on("hidden.bs.collapse",function(){$(".navbar").removeClass("top-nav-expanded")}),$("#main-navbar").on("click",".navlinks-parent",function(n){var a=n.target;$.each($(".navlinks-parent"),function(n,i){i==a?$(i).parent().toggleClass("show-children"):$(i).parent().removeClass("show-children")})});var n=$(".navlinks-container");if(n.length>0){$("#main-navbar").find("ul").append("<li class='fake-menu' style='display:none;'><a></a></li>");var a,i=$(".fake-menu");$.each(n,function(a){$(n[a]).find(".navlinks-parent");var e=$(n[a]).find(".navlinks-children a"),t=[];$.each(e,function(n,a){t=t.concat($(a).text().trim().split(/\s+/))});var s=0;$.each(t,function(n,a){i.html("<a>"+a+"</a>");var e=i.width();e>s&&(s=e)}),$(n[a]).css("min-width",s+"px")}),i.remove()}main.initImgs()},initImgs:function(){if($("#header-big-imgs").length>0){main.bigImgEl=$("#header-big-imgs"),main.numImgs=main.bigImgEl.attr("data-num-img");var n=main.getImgInfo(),a=n.src,i=n.desc,e=n.position;main.setImg(a,i,e);var t=function(){var n=main.getImgInfo(),a=n.src,i=n.desc,e=n.position;new Image().src=a,setTimeout(function(){var n=$("<div></div>").addClass("big-img-transition").css("background-image","url("+a+")");void 0!==e&&n.css("background-position",e),$(".intro-header.big-img").prepend(n),setTimeout(function(){n.css("opacity","1")},50),setTimeout(function(){main.setImg(a,i,e),n.remove(),t()},1e3)},6e3)};main.numImgs>1&&t()}},getImgInfo:function(){var n,a=Math.floor(Math.random()*main.numImgs+1),i=main.bigImgEl.attr("data-img-src-"+a);return{src:i,desc:main.bigImgEl.attr("data-img-desc-"+a),position:main.bigImgEl.attr("data-img-position-"+a)}},setImg:function(n,a,i){if($(".intro-header.big-img").css("background-image","url("+n+")"),void 0!==i?$(".intro-header.big-img").css("background-position",i):$(".intro-header.big-img").css("background-position",""),void 0!==a&&!1!==a){var e=/\[(.*?)\]\((.+?)\)/;if(a.match(e)){var t=a.split(e),s=$(".img-desc");t.forEach(function(n,a){if(a%3==0&&s.append(n),a%3==2){var i=$("<a>",{href:n,target:"_blank",rel:"noopener noreferrer"}).text(t[a-1]);s.append(i)}}),s.show()}else $(".img-desc").text(a).show()}else $(".img-desc").hide()}};document.addEventListener("DOMContentLoaded",main.init);